!function(){"use strict";var e=angular.module("selectModul",[]);e.directive("select",["setPublicMethod",function(e){return{restrict:"EA",scope:{selectObjects:"="},template:'<div class="select"><span class="val" data-clickFlag="clickFlag" ng-model="selectObjects.value" ng-click="selectObjects.click || showList($event)">{{selectObjects.value}}</span><div class="options" id="{{selectObjects.id}}"><div> <span  ng-repeat="selectlist in selectObjects.list track by $index" ng-click="showValue(selectlist)">{{selectlist}}</span></div> </div></div>',replace:!0,link:function(l,s){var t=6,c=30,r="请选择";l.selectObjects.value||(l.selectObjects.value=r,l.selectObjects.list.unshift(r));var i=e.brower().ie;i&&Number(i)<9&&angular.element(".select .options").css({overflow:"auto"});var o=angular.element("body").find(".select .options"),a=angular.element("body").find(".select"),n=s.find(".options"),u=s;document.body.onclick=function(e){if(e){var l=e.target||e.srcElement;if($(l).parents(".select").length)return;angular.element(l).attr("data-clickFlag")||(a.css("border-radius","5px"),o.hide())}},l.showList=function(){i&&Number(i)<9||l.scroll&&(l.scroll.destroy(),l.scroll=null);var e=l.selectObjects.list.length>t?t:l.selectObjects.list.length;l.selectObjects.direction&&o.css({top:-e*c+"px"});var s=0,r=~l.selectObjects.list.indexOf(l.selectObjects.value)?l.selectObjects.list.indexOf(l.selectObjects.value):l.selectObjects.list.indexOf(""+l.selectObjects.value);e===t&&(s=(l.selectObjects.list.length-r>t?r:l.selectObjects.list.length-t)*c),a.css("border-radius","5px"),o.hide(),n.is(":hidden")&&setTimeout(function(){u.find("span").removeClass("selected").eq(r+1).addClass("selected"),n.show(),u.css("border-radius","5px 5px 0 0"),i&&Number(i)<9||(l.scroll=new IScroll("#"+l.selectObjects.id,{scrollbars:!0,mouseWheel:!0,interactiveScrollbars:!0}),l.scroll.scrollTo(0,-s))},0)},l.showValue=function(e){l.selectObjects.value=e,u.css("border-radius","5px"),n.hide()}}}}]),e.directive("scrollbar",["setPublicMethod",function(e){return{restrict:"EA",scope:{scrollbaUpdate:"=",scrollbarFlag:"@"},link:function(l,s,t){var c=(new Date).getTime(),r=$(angular.element(s));r.attr("id")||r.attr("id",c);var i=e.brower().ie;!i||i>=9?setTimeout(function(){r.mCustomScrollbar({scrollInertia:300,mouseWheel:!0,mouseWheelPixels:350,advanced:{autoScrollOnFocus:!1}})},0):r.css({"overflow-y":"auto"}),l.scrollbarFlag&&l.$on(l.scrollbarFlag,function(e,l){i&&9>i||(l.scrollTo?r.mCustomScrollbar(l.scrollEvent,l.scrollTo):r.mCustomScrollbar(l.scrollEvent))})}}}])}();