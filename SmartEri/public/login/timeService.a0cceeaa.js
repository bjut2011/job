!function(){"use strict";var e=angular.module("timeModel",[]);e.factory("timeFunction",function(){function e(e,n){var r=[];if(!e){var a=new Date;n&&(a=a.valueOf(),a+=7776e6,a=new Date(a)),e=t(a.getFullYear(),o(a.getMonth()+1),a.getDate())}return"string"===(typeof e).toLocaleLowerCase()?(r=e.split(/[- :\/]/),r[0]&&r[1]&&r[2]||!isNaN(r[0])&&!isNaN(r[1])&&!isNaN(r[2])?r:null):"object"===(typeof e).toLocaleLowerCase()?(r.push(e.year),r.push(e.month),r.push(e.day),r):null}function t(e,t,n,r,a,u){var o;return"[object Array]"===Object.prototype.toString.call(arguments[0])?(o=arguments[0],o[0]+"-"+o[1]+"-"+o[2]+" 00:00:00:000"):3===arguments.length?("请选择"!==e&&"请选择"!==t&&"请选择"!==n||(o=new Date,e=o.getFullYear(),t=o.getMonth()+1),e+"-"+t+"-"+n+" 00:00:00:000"):e+"-"+t+"-"+n+" "+r+":"+a+":"+u}function n(t){var n=e(t);if(n){var r=parseInt(n[1],10),a=new Date(n[0],r,0);return a.getDate()}return null}function r(t){var r=(new Date).getDate(),a=t;t=t.replace("请选择",r);var u=n(t),o=e(t),i={list:D[u],value:o[2]>u?u:o[2]};return~a.indexOf("请选择")&&(i.value="请选择"),u&&o?i:null}function a(t,n){var r,a,u,o;return r=e(t),a=e(n),r&&a?(u=new Date(r[0],r[1]-1,r[2]),o=new Date(a[0],a[1]-1,a[2]),parseInt((o-u)/864e5)):null}function u(t,n){var r=e(t),a=new Date(r[0],r[1]-1,r[2]);return a.setDate(a.getDate()+n),[a.getFullYear(),o(a.getMonth()+1),o(a.getDate())]}function o(e){return 10>e?"0"+e:e}function i(e,t){var n=a(e,t),r={};if(null!==n){switch(!0){case 1>n:r.reminder=s[0],r.date=u(e,1);break;case n>90:r.reminder=s[1],r.date=u(e,90);break;default:r.reminder="",r.date=u(t,0)}return r}return!1}function l(){var e=new Date,t=e.getHours(),n="";return n=4>t?"night":11>t?"morning":18>t?"afternoon":23>t?"evening":"night"}function g(t){if(t){var n=e(t);return n[0]+"/"+n[1]+"/"+n[2]+" "+n[3]+":"+n[4]}return!1}function c(e,t){var n=[];for(2===arguments.length||(t=(new Date).getFullYear(),e=t-e);t>=e;)n.push(""+e++);return n}function f(){var e={},t=new Date;return e.year=t.getFullYear(),e.month=o(t.getMonth()+1),e.day=o(t.getDate()),e}var s=["结束时间不能小于起始时间，系统默认为您设置成了1天","时间范围超出了限制，系统默认为您设置成了90天"],D={28:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],29:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29"],30:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],31:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"]};return{formatTime:t,oTimeArr:e,subDay:a,getDayListAndDay:r,getDateValue:i,getLastLogin:g,getdaySection:l,getYearLast:c,getDate:f,getsubDate:u}})}();