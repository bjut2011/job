!function(){"use strict";angular.module("model-box",[]).value("alertBoxTpl",'<div class="model"> <div class="model-bc"></div><div class="model-content"> <div class="btn-close none" id="btnClose"></div> <div class="title"></div> <div class="body"> </div> <div class="btn-group"> </div> </div> </div>').value("msgboxTpl",'<div class="msg-box-g dp-ib pos-r"></div><div class="model none"><div class="model-bc"></div></div>').provider("mAlert",function(){this.$get=["alertBoxTpl","msgboxTpl","$timeout","setPublicMethod",function(e,n,t,l){function o(e){function t(){var e=$(".msg-wrap");if(!e||!e.length){var t=$('<div class="msg-wrap hold-hidden">'+n+"</div>"),l=t.children(".msg-box-g");if(l.addClass(m[o]).html(a),r&&t.find(".model").removeClass("none"),i)d&&t.css(d),v.append(t);else{var s=v.css("top"),u=v.css("left"),b=v.css("right");t.css({top:s&&"auto"!=s?s:0,left:u&&"auto"!=u?u:0,right:b&&"auto"!=b?b:0}),d&&t.css(d),$("body").append(t)}var g=-l.outerHeight();l.css("top",g),t.removeClass("hold-hidden"),l.animate({top:0},700,function(){if(!c)var e=setTimeout(function(){l.animate({top:g},700,function(){l.parent(".msg-wrap").remove()}),e&&clearTimeout(e)},2e3)})}}var l={type:"success",msg:"操作成功",baseSlct:"div#mailContent",byBaseChild:!1,boxStyle:null,handMovement:!1,shade:!1};$.extend(!0,l,e);var o=l.type,s=l.baseSlct,i=l.byBaseChild,d=l.boxStyle,a=l.msg,c=l.handMovement,r=l.shade,v=$(s);0==v.length&&(v=$("body"));var m={success:"msg-success",error:"msg-error",warning:"msg-warning"};t()}function s(){$(".msg-wrap").remove()}function i(e){if(i.render(e),angular.element(d).show(),l.brower().ie&&l.brower().ie<10)var n=0,t=setInterval(function(){var e=$(".model").find("input");e&&e.length&&(clearInterval(t),e.placeholder()),++n>20&&clearInterval(t)},10)}var d=document.createElement("div");return d=angular.element(d).html(e),i.render=function(e){var n={title:"提示",body:"",btns:[{closeDefer:!1,"class":"btn-sure",text:"确定"}],bgAble:!1},t=d.find("#btnClose");$.extend(!0,n,e),n.noBtn&&(n.btns=[],t.removeClass("none"),d.find(".btn-group").addClass("none"));var l=n.title,o=n.body,s=n.btns,a=n.bgAble,c=d.find(".btn-group");if(c.empty(),s&&s.length>0)for(var r=0;r<s.length;r++){var v=s[r]["class"]||"",m=$('<div class="btn '+v+'">'+s[r].text+"</div>");m.on("click",function(e){return function(){return s[e].cb?(s[e].closeDefer||i.cancle(),s[e].cb(),!0):void i.cancle()}}(r)),c.append(m)}d.children(".model").children(".model-content").children(".title").text(l).siblings(".body").html(o),t.on("click",function(){i.cancle()}),angular.element("body").append(d),a&&i.bcHide()},i.bcHide=function(){d.children(".model").children(".model-bc").click(function(){i.cancle()})},i.cancle=function(){angular.element(d).hide(),i.destory()},i.destory=function(){d.remove()},{alert:i,msg:o,close:i.cancle,handRemoveMsg:s}}]})}();